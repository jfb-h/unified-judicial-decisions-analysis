<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Judicial Decisions on Patent Validity</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="questions_files/libs/clipboard/clipboard.min.js"></script>
<script src="questions_files/libs/quarto-html/quarto.js"></script>
<script src="questions_files/libs/quarto-html/popper.min.js"></script>
<script src="questions_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="questions_files/libs/quarto-html/anchor.min.js"></script>
<link href="questions_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="questions_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="questions_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="questions_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="questions_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#judicial-decision-making-in-patent-litigation" id="toc-judicial-decision-making-in-patent-litigation" class="nav-link active" data-scroll-target="#judicial-decision-making-in-patent-litigation">Judicial Decision Making in Patent Litigation</a></li>
  <li><a href="#data-on-validity-cases-at-the-bundespatentgericht" id="toc-data-on-validity-cases-at-the-bundespatentgericht" class="nav-link" data-scroll-target="#data-on-validity-cases-at-the-bundespatentgericht">Data on Validity Cases at the Bundespatentgericht</a></li>
  <li><a href="#exploratory-results" id="toc-exploratory-results" class="nav-link" data-scroll-target="#exploratory-results">Exploratory Results</a>
  <ul class="collapse">
  <li><a href="#is-there-variation-over-time" id="toc-is-there-variation-over-time" class="nav-link" data-scroll-target="#is-there-variation-over-time">Is there variation over time?</a></li>
  <li><a href="#is-there-variation-between-senates" id="toc-is-there-variation-between-senates" class="nav-link" data-scroll-target="#is-there-variation-between-senates">Is there variation between senates?</a></li>
  <li><a href="#is-there-variation-between-judges" id="toc-is-there-variation-between-judges" class="nav-link" data-scroll-target="#is-there-variation-between-judges">Is there variation between judges?</a></li>
  <li><a href="#is-there-variation-betweeen-technologies" id="toc-is-there-variation-betweeen-technologies" class="nav-link" data-scroll-target="#is-there-variation-betweeen-technologies">Is there variation betweeen technologies?</a></li>
  <li><a href="#is-there-variation-across-panel-compositions" id="toc-is-there-variation-across-panel-compositions" class="nav-link" data-scroll-target="#is-there-variation-across-panel-compositions">Is there variation across panel compositions?</a></li>
  <li><a href="#does-a-judges-decision-making-change-over-time" id="toc-does-a-judges-decision-making-change-over-time" class="nav-link" data-scroll-target="#does-a-judges-decision-making-change-over-time">Does a judgeâ€™s decision making change over time?</a></li>
  <li><a href="#is-there-still-variation-between-judges-when-controlling-for-the-other-factors" id="toc-is-there-still-variation-between-judges-when-controlling-for-the-other-factors" class="nav-link" data-scroll-target="#is-there-still-variation-between-judges-when-controlling-for-the-other-factors">Is there still variation between judges when controlling for the other factors?</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Judicial Decisions on Patent Validity</h1>
<p class="subtitle lead">Cases at the German Federal Patent Court, 2000 - 2020</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="judicial-decision-making-in-patent-litigation" class="level2">
<h2 class="anchored" data-anchor-id="judicial-decision-making-in-patent-litigation">Judicial Decision Making in Patent Litigation</h2>
<p>In the legal and political science literatures, there has been an ongoing debate about what drives judicial decision making for more than 100 years (Cross 2003). The <em>legalist</em> (or <em>legal rationalist</em> or <em>legal formalist</em>) tradition sees the judge as a vehicle executing the law. The <em>realist</em> (or <em>behaviouralist</em>) tradition sees the law as incomplete and as leaving decision making degrees of freedom to judges. Judges, then, respond to attitudinal preferences or strategic incentives (Segal 2001, Epstein &amp; Knight 2013). This debate is strongly biased towards the USA and especially its Supreme Court, where politically controversial cases and partisan decision making are frequent.</p>
<p>While the realist approach has demonstrated its relevance in the setting of politicized US courts in many empirical studies (e.g.&nbsp;Segal &amp; Cover 1989), patent law differs from other fields of law due to its highly technical nature. To come to a satisfactory conclusion in a patent dispute, in-depth technical knowledge relating to the case at hand is usually required in addition to legal knowledge. These differences also change the appropriateness of legalist and realist accounts of judicial decision making. At least three factors favour a legalist model of decision making in patent litigation: (1) a complete description of the facts of the case exists in the form of the patent document, (2) there are standard legal techniques (such as the fictious â€˜person skilled in the artâ€™ or criteria for validity) to derive a conclusion from the facts of the case and the law, and (3) the existence of political incentives for the judiciary in the outcomes of most patent disputes is less obvious. Given such technical, legal, and procedural constraints, a reasonable expectation is that judicial degrees of freedom are minimal:</p>
<blockquote class="blockquote">
<p><span class="math inline">\(H_{l}\)</span>: Under a legalist model of judicial decision making, there should be no systematic between-judge variation across comparable cases.</p>
</blockquote>
<p>Despite ostensibly transparent criteria and comprehensive technical information, the reality of judicial decision making in the context of patent litigation is however often different: First, there is often deliberate uncertainty in the technical specification contained in the patent document to broaden its scope of protection (Mullally 2009), making the decision less formulaic. Second, specific legal constructions are often applied differently in different legal contexts or schools of thought, such as was the case with the â€˜doctrine of equivalentsâ€™ in the famous Epilady controversy (Hatter 1994). And third, patent judges have been found to diverge in their substantive interpretations of what constitutes a patent (Lazega et al.&nbsp;2017). Given these factors, an alternative hypothesis</p>
<blockquote class="blockquote">
<p><span class="math inline">\(H_{r}\)</span>: Under a realist model of judicial decision making, there are judge degrees of freedom, allowing for between-judge variation in decision making even for comparable cases.</p>
</blockquote>
<p>The goal of this paper is to empirically test <span class="math inline">\(H_l\)</span> against <span class="math inline">\(H_r\)</span> within a single court, the German Federal Patent Court. Given this goal, a core task is to define what constitutes â€˜comparable casesâ€™. We here investigate three factors to control for: First, we control for the timepoint of the decision, as the observation period stretches over a period of relative turmoil in the global patenting system, which might have a systematic impact on case outcomes. Second, technology classification, as different technologies might be subject to different industry dynamics, which in turn might tip the scales systematically in the plaintiffâ€™s or defendantâ€™s direction. And third, senate affiliation, as specific senates might have developed their own explicit or implicit rules.</p>
</section>
<section id="data-on-validity-cases-at-the-bundespatentgericht" class="level2">
<h2 class="anchored" data-anchor-id="data-on-validity-cases-at-the-bundespatentgericht">Data on Validity Cases at the Bundespatentgericht</h2>
<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Model</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Dictionaries</span>, <span class="bu">SplitApplyCombine</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">DataFramesMeta</span>, <span class="bu">Dates</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The data explored here were obtained from the <a href="http://juris.bundespatentgericht.de/cgi-bin/rechtsprechung/list.py?Gericht=bpatg&amp;Art=en&amp;Sort=12288&amp;Datum=Aktuell">BPatG online repository</a> containing all of the courtâ€™s decisions since 2000. Initially, all 30,000 documents were downloaded. Among these, nullity decisions were selected and filtered down to only verdict documents (excluding, e.g., additional decisions on compensation etc.). This left around 1,200 documents, from which we extracted key metadata.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>decisions <span class="op">=</span> Model.<span class="fu">loaddata</span>(<span class="st">"../data/processed/json_augmented"</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get a look at the data for an example decision</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">first</span>(decisions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="173">
<pre><code>Ruling 1 Ni 4/99 (EU) on EP0389008
Date of decision: 26 September, 2000
Decided by: 1. Senate (Hacker, Vogel, Henkel, Maier, van_Raden)
Outcome: partially annulled</code></pre>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># count of observations in the sample</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(decisions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="174">
<pre><code>1227</code></pre>
</div>
</div>
<p>An outcome is coded as 0 if the claim is dismissed and as 1 if the patent is fully or partially annulled:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># count of observations by outcome label</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">groupcount</span>(outcome, decisions) <span class="op">|&gt;</span> sort</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="175">
<pre><code>3-element Dictionary{Outcome, Int64}
           Outcome(1, "annulled") â”‚ 236
    Outcome(0, "claim dismissed") â”‚ 295
 Outcome(1, "partially annulled") â”‚ 696</code></pre>
</div>
</div>
</section>
<section id="exploratory-results" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-results">Exploratory Results</h2>
<div class="cell" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper function to count and compute the share of </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># dismissed cases for a collection of decisions</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">summarize_outcome</span>(ds)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">length</span>(ds)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">countf</span>(l) <span class="op">=</span> <span class="fu">count</span>(d <span class="op">-&gt;</span> <span class="fu">label</span>(<span class="fu">outcome</span>(d)) <span class="op">==</span> l, ds) <span class="op">/</span> n</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    outcome_labels <span class="op">=</span> (<span class="st">"claim dismissed"</span>, <span class="st">"partially annulled"</span>, <span class="st">"annulled"</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    dismissed, partial, annulled <span class="op">=</span> <span class="fu">countf</span>.(outcome_labels)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    (;n, dismissed, partial, annulled)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span>;</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># yarrrr...</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> DataFrames.<span class="fu">DataFrame</span>(d<span class="op">::</span><span class="dt">Dictionary</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    ks <span class="op">=</span> <span class="fu">collect</span>(<span class="fu">keys</span>(d))</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    vs <span class="op">=</span> <span class="fu">collect</span>(<span class="fu">values</span>(d))</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> <span class="fu">DataFrame</span>(vs)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">insertcols!</span>(df, <span class="fl">1</span>, <span class="op">:</span>keys <span class="op">=&gt;</span> ks)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="is-there-variation-over-time" class="level3">
<h3 class="anchored" data-anchor-id="is-there-variation-over-time">Is there variation over time?</h3>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> <span class="fu">map</span>(summarize_outcome, <span class="fu">group</span>(<span class="bu">Dates</span>.year <span class="op">âˆ˜</span> date, decisions)) <span class="op">|&gt;</span> DataFrame;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-execution_count="8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">CairoMakie</span>, <span class="bu">AlgebraOfGraphics</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_outcome_year</span>(df)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="op">=</span> [<span class="op">:</span>dismissed, <span class="op">:</span>partial, <span class="op">:</span>annulled]</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    dflong <span class="op">=</span> DataFrames.<span class="fu">stack</span>(df, outcomes)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    dflong.value <span class="op">=</span> dflong.value <span class="op">.*</span> dflong.n</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    plt <span class="op">=</span> <span class="fu">data</span>(dflong) <span class="op">*</span> <span class="fu">mapping</span>(</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span>keys <span class="op">=&gt;</span> <span class="st">""</span>, <span class="op">:</span>value <span class="op">=&gt;</span> <span class="st">""</span>; </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">=:</span>variable, </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=:</span>variable <span class="op">=&gt;</span> <span class="st">""</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>          ) <span class="op">*</span> <span class="fu">visual</span>(BarPlot)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">draw</span>(plt; legend<span class="op">=</span>(;position<span class="op">=:</span>bottom))</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_outcome_year</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="178">
<p><img src="questions_files/figure-html/cell-9-output-1.svg" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="9">
<details>
<summary>Gaussian process model</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">ApproximateGPs</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Distributions</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LogExpFunctions</span>: logistic, softplus, invsoftplus</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Zygote</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Optim</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">build_latent_gp</span>(Î¸)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    variance, lengthscale <span class="op">=</span> <span class="fu">softplus</span>.(Î¸)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    kernel <span class="op">=</span> variance <span class="op">*</span> <span class="fu">with_lengthscale</span>(<span class="fu">SqExponentialKernel</span>(), lengthscale)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">LatentGP</span>(<span class="fu">GP</span>(kernel), <span class="fu">BernoulliLikelihood</span>() , <span class="fl">1e-8</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">optimize_hyperparams</span>(make_f, x, y; Î¸_init<span class="op">=</span><span class="fu">invsoftplus</span>.([<span class="fl">1</span>, <span class="fl">0.05</span>]))</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    objective <span class="op">=</span> <span class="fu">build_laplace_objective</span>(make_f, x, y)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grad</span>(Î¸) <span class="op">=</span> <span class="fu">only</span>(Zygote.<span class="fu">gradient</span>(objective, Î¸))</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> Optim.<span class="fu">optimize</span>(objective, grad, Î¸_init, <span class="fu">LBFGS</span>(); inplace<span class="op">=</span><span class="cn">false</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    objective, result</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">posterior_optimize</span>(x, y)</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    objective, optimized <span class="op">=</span> <span class="fu">optimize_hyperparams</span>(build_latent_gp, x, y)</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    lf_opt <span class="op">=</span> <span class="fu">build_latent_gp</span>(optimized.minimizer)</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">posterior</span>(<span class="fu">LaplaceApproximation</span>(;f_init<span class="op">=</span>objective.cache.f), <span class="fu">lf_opt</span>(x), y)</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">simulate</span>()</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> <span class="fu">range</span>(<span class="fl">0</span>, <span class="fl">23.5</span>; length<span class="op">=</span><span class="fl">48</span>)</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">f</span>(x) <span class="op">=</span> <span class="fl">3</span> <span class="op">*</span> <span class="fu">sin</span>(<span class="fl">10</span> <span class="op">+</span> <span class="fl">0.6</span>x) <span class="op">+</span> <span class="fu">sin</span>(<span class="fl">0.1</span>x) <span class="op">-</span> <span class="fl">1</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>    ps <span class="op">=</span> <span class="fu">logistic</span>.(<span class="fu">f</span>.(X)) </span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>    Y <span class="op">=</span> [<span class="fu">rand</span>(<span class="fu">Bernoulli</span>(p)) for p <span class="kw">in</span> ps]</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>    X, Y, f</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_data!</span>(ax, x, y; true_f <span class="op">=</span> <span class="cn">nothing</span>)</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scatter!</span>(ax, x, y)</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>    !<span class="fu">isnothing</span>(true_f) <span class="op">&amp;&amp;</span> <span class="fu">lines!</span>(ax, x, f)</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_data</span>(x, y; true_f<span class="op">=</span><span class="cn">nothing</span>)</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> <span class="fu">Figure</span>()</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">1</span>,<span class="fl">1</span>])</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_data!</span>(ax, x, y; true_f)</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>    fig</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_posterior!</span>(ax, x, y, xgrid, fpost; true_f<span class="op">=</span><span class="cn">nothing</span>)</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>    fx <span class="op">=</span> <span class="fu">fpost</span>(xgrid, <span class="fl">1e-8</span>)</span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>    fsamples <span class="op">=</span> <span class="fu">rand</span>(fx, <span class="fl">100</span>)</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">foreach</span>(<span class="fu">eachcol</span>(fsamples)) <span class="cf">do</span> y</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>        <span class="fu">lines!</span>(ax, xgrid, <span class="fu">logistic</span>.(y); color<span class="op">=:</span>grey80)</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, xgrid, <span class="fu">map</span>(logistic <span class="op">âˆ˜</span> mean, <span class="fu">eachrow</span>(fsamples)); color<span class="op">=:</span>red, linewidth<span class="op">=</span><span class="fl">2</span>)</span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_data!</span>(ax, x, y; true_f)</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_posterior</span>(x, y, xgrid, fpost; true_f<span class="op">=</span><span class="cn">nothing</span>)</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> <span class="fu">Figure</span>()</span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">1</span>,<span class="fl">1</span>])</span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_posterior!</span>(ax,x, y, xgrid, fpost; true_f)</span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>    fig</span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="10">
<details>
<summary>plotting code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [<span class="bu">Dates</span>.<span class="fu">days</span>(<span class="fu">date</span>(d) <span class="op">-</span> <span class="fu">minimum</span>(date, decisions)) for d <span class="kw">in</span> decisions] <span class="op">./</span> <span class="fl">365</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> (id <span class="op">âˆ˜</span> outcome).(decisions)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#post = posterior_optimize(x, y)</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>make_f <span class="op">=</span> <span class="fu">build_latent_gp</span>([<span class="fl">1.0</span>, <span class="fl">5.0</span>])</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>post <span class="op">=</span> <span class="fu">posterior</span>(<span class="fu">LaplaceApproximation</span>(), <span class="fu">make_f</span>(x), y)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_posterior</span>(x, y, <span class="fu">range</span>(<span class="fl">0</span>, <span class="fu">maximum</span>(x), <span class="fl">100</span>), post)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="180">
<p><img src="questions_files/figure-html/cell-11-output-1.svg" class="img-fluid"></p>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-execution_count="11">
<div class="cell-output cell-output-display" data-execution_count="181">

<div><div style="float: left;"><span>20Ã—5 DataFrame</span></div><div style="clear: both;"></div></div><div class="data-frame" style="overflow-x: scroll;"><table class="data-frame table table-sm table-striped" style="margin-bottom: 6px;"><thead><tr class="header"><th class="rowNumber" style="font-weight: bold; text-align: right;">Row</th><th style="text-align: left;">keys</th><th style="text-align: left;">n</th><th style="text-align: left;">dismissed</th><th style="text-align: left;">partial</th><th style="text-align: left;">annulled</th></tr><tr class="subheader headerLastRow"><th class="rowNumber" style="font-weight: bold; text-align: right;"></th><th title="Int64" style="text-align: left;">Int64</th><th title="Int64" style="text-align: left;">Int64</th><th title="Float64" style="text-align: left;">Float64</th><th title="Float64" style="text-align: left;">Float64</th><th title="Float64" style="text-align: left;">Float64</th></tr></thead><tbody><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">1</td><td style="text-align: right;">2000</td><td style="text-align: right;">66</td><td style="text-align: right;">0.272727</td><td style="text-align: right;">0.530303</td><td style="text-align: right;">0.19697</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">2</td><td style="text-align: right;">2001</td><td style="text-align: right;">68</td><td style="text-align: right;">0.308824</td><td style="text-align: right;">0.544118</td><td style="text-align: right;">0.147059</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">3</td><td style="text-align: right;">2002</td><td style="text-align: right;">68</td><td style="text-align: right;">0.205882</td><td style="text-align: right;">0.588235</td><td style="text-align: right;">0.205882</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">4</td><td style="text-align: right;">2003</td><td style="text-align: right;">69</td><td style="text-align: right;">0.318841</td><td style="text-align: right;">0.478261</td><td style="text-align: right;">0.202899</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">5</td><td style="text-align: right;">2004</td><td style="text-align: right;">69</td><td style="text-align: right;">0.333333</td><td style="text-align: right;">0.521739</td><td style="text-align: right;">0.144928</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">6</td><td style="text-align: right;">2005</td><td style="text-align: right;">67</td><td style="text-align: right;">0.253731</td><td style="text-align: right;">0.597015</td><td style="text-align: right;">0.149254</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">7</td><td style="text-align: right;">2007</td><td style="text-align: right;">41</td><td style="text-align: right;">0.341463</td><td style="text-align: right;">0.609756</td><td style="text-align: right;">0.0487805</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">8</td><td style="text-align: right;">2008</td><td style="text-align: right;">71</td><td style="text-align: right;">0.253521</td><td style="text-align: right;">0.577465</td><td style="text-align: right;">0.169014</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">9</td><td style="text-align: right;">2009</td><td style="text-align: right;">69</td><td style="text-align: right;">0.304348</td><td style="text-align: right;">0.565217</td><td style="text-align: right;">0.130435</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">10</td><td style="text-align: right;">2010</td><td style="text-align: right;">69</td><td style="text-align: right;">0.275362</td><td style="text-align: right;">0.594203</td><td style="text-align: right;">0.130435</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">11</td><td style="text-align: right;">2011</td><td style="text-align: right;">84</td><td style="text-align: right;">0.22619</td><td style="text-align: right;">0.583333</td><td style="text-align: right;">0.190476</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">12</td><td style="text-align: right;">2012</td><td style="text-align: right;">76</td><td style="text-align: right;">0.223684</td><td style="text-align: right;">0.644737</td><td style="text-align: right;">0.131579</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">13</td><td style="text-align: right;">2013</td><td style="text-align: right;">53</td><td style="text-align: right;">0.207547</td><td style="text-align: right;">0.584906</td><td style="text-align: right;">0.207547</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">14</td><td style="text-align: right;">2014</td><td style="text-align: right;">58</td><td style="text-align: right;">0.0517241</td><td style="text-align: right;">0.741379</td><td style="text-align: right;">0.206897</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">15</td><td style="text-align: right;">2015</td><td style="text-align: right;">51</td><td style="text-align: right;">0.156863</td><td style="text-align: right;">0.529412</td><td style="text-align: right;">0.313725</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">16</td><td style="text-align: right;">2016</td><td style="text-align: right;">45</td><td style="text-align: right;">0.222222</td><td style="text-align: right;">0.4</td><td style="text-align: right;">0.377778</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">17</td><td style="text-align: right;">2017</td><td style="text-align: right;">47</td><td style="text-align: right;">0.170213</td><td style="text-align: right;">0.595745</td><td style="text-align: right;">0.234043</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">18</td><td style="text-align: right;">2018</td><td style="text-align: right;">52</td><td style="text-align: right;">0.211538</td><td style="text-align: right;">0.576923</td><td style="text-align: right;">0.211538</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">19</td><td style="text-align: right;">2019</td><td style="text-align: right;">55</td><td style="text-align: right;">0.236364</td><td style="text-align: right;">0.490909</td><td style="text-align: right;">0.272727</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">20</td><td style="text-align: right;">2020</td><td style="text-align: right;">49</td><td style="text-align: right;">0.163265</td><td style="text-align: right;">0.55102</td><td style="text-align: right;">0.285714</td></tr></tbody></table></div>
</div>
</div>
</div>
</div>
</div>
<p>Looking at outcomes by year, the most striking feature is missing data for 2006 and partially 2007, which is due to judge names not being recorded in the decision documents for that period. Furthermore, there seem to be fewer cases per year since about 2013. (TODO: Is this in accordance with reporting?) In terms of variation over time, there are slightly less dismissals in recent years.</p>
</section>
<section id="is-there-variation-between-senates" class="level3">
<h3 class="anchored" data-anchor-id="is-there-variation-between-senates">Is there variation between senates?</h3>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> <span class="fu">map</span>(summarize_outcome, <span class="fu">group</span>(label <span class="op">âˆ˜</span> senate, decisions)) <span class="op">|&gt;</span> DataFrame;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-execution_count="13">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_outcome_senate</span>(df)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="op">=</span> [<span class="op">:</span>dismissed, <span class="op">:</span>partial, <span class="op">:</span>annulled]</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    dflong <span class="op">=</span> DataFrames.<span class="fu">stack</span>(df, outcomes)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    dflong.value <span class="op">=</span> dflong.value <span class="op">.*</span> dflong.n</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    plt <span class="op">=</span> <span class="fu">data</span>(dflong) <span class="op">*</span> <span class="fu">mapping</span>(</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span>keys <span class="op">=&gt;</span> <span class="st">""</span>, <span class="op">:</span>value <span class="op">=&gt;</span> <span class="st">""</span>; </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">=:</span>variable, </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=:</span>variable <span class="op">=&gt;</span> <span class="st">""</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>          ) <span class="op">*</span> <span class="fu">visual</span>(BarPlot)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">draw</span>(plt; legend<span class="op">=</span>(;position<span class="op">=:</span>bottom), axis<span class="op">=</span>(;xticklabelrotation<span class="op">=</span><span class="fl">1</span>))</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_outcome_senate</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="183">
<p><img src="questions_files/figure-html/cell-14-output-1.svg" class="img-fluid"></p>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-execution_count="14">
<div class="cell-output cell-output-display" data-execution_count="184">

<div><div style="float: left;"><span>8Ã—5 DataFrame</span></div><div style="clear: both;"></div></div><div class="data-frame" style="overflow-x: scroll;"><table class="data-frame table table-sm table-striped" style="margin-bottom: 6px;"><thead><tr class="header"><th class="rowNumber" style="font-weight: bold; text-align: right;">Row</th><th style="text-align: left;">keys</th><th style="text-align: left;">n</th><th style="text-align: left;">dismissed</th><th style="text-align: left;">partial</th><th style="text-align: left;">annulled</th></tr><tr class="subheader headerLastRow"><th class="rowNumber" style="font-weight: bold; text-align: right;"></th><th title="String" style="text-align: left;">String</th><th title="Int64" style="text-align: left;">Int64</th><th title="Float64" style="text-align: left;">Float64</th><th title="Float64" style="text-align: left;">Float64</th><th title="Float64" style="text-align: left;">Float64</th></tr></thead><tbody><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">1</td><td style="text-align: left;">1. Senate</td><td style="text-align: right;">169</td><td style="text-align: right;">0.230769</td><td style="text-align: right;">0.56213</td><td style="text-align: right;">0.207101</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">2</td><td style="text-align: left;">2. Senate</td><td style="text-align: right;">260</td><td style="text-align: right;">0.242308</td><td style="text-align: right;">0.561538</td><td style="text-align: right;">0.196154</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">3</td><td style="text-align: left;">3. Senate</td><td style="text-align: right;">264</td><td style="text-align: right;">0.212121</td><td style="text-align: right;">0.602273</td><td style="text-align: right;">0.185606</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">4</td><td style="text-align: left;">4. Senate</td><td style="text-align: right;">297</td><td style="text-align: right;">0.282828</td><td style="text-align: right;">0.622896</td><td style="text-align: right;">0.0942761</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">5</td><td style="text-align: left;">0. Senate</td><td style="text-align: right;">38</td><td style="text-align: right;">0.263158</td><td style="text-align: right;">0.421053</td><td style="text-align: right;">0.315789</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">6</td><td style="text-align: left;">5. Senate</td><td style="text-align: right;">119</td><td style="text-align: right;">0.235294</td><td style="text-align: right;">0.504202</td><td style="text-align: right;">0.260504</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">7</td><td style="text-align: left;">6. Senate</td><td style="text-align: right;">56</td><td style="text-align: right;">0.160714</td><td style="text-align: right;">0.392857</td><td style="text-align: right;">0.446429</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">8</td><td style="text-align: left;">7. Senate</td><td style="text-align: right;">24</td><td style="text-align: right;">0.25</td><td style="text-align: right;">0.541667</td><td style="text-align: right;">0.208333</td></tr></tbody></table></div>
</div>
</div>
</div>
</div>
</div>
<p>There is some slight variation in case outcomes across senates, with about a 7 percentage point difference in dismissal rates between, e.g., senates 3 and 4.</p>
</section>
<section id="is-there-variation-between-judges" class="level3">
<h3 class="anchored" data-anchor-id="is-there-variation-between-judges">Is there variation between judges?</h3>
<div class="cell" data-execution_count="15">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>Model.<span class="fu">label</span>(s<span class="op">::</span><span class="dt">String</span>) <span class="op">=</span> s</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">flatten_and_summarize</span>(decisions, by)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> <span class="fu">DataFrame</span>(group<span class="op">=</span><span class="fu">by</span>.(decisions), outcome<span class="op">=</span><span class="fu">label</span>.(<span class="fu">outcome</span>.(decisions)))</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> <span class="pp">@chain</span> df <span class="cf">begin</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        DataFrames.<span class="fu">flatten</span>(<span class="op">:</span>group)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">groupby</span>([<span class="op">:</span>group, <span class="op">:</span>outcome])</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">combine</span>(nrow <span class="op">=&gt;</span> <span class="op">:</span>count)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">groupby</span>(<span class="op">:</span>group)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="pp">@transform</span>(<span class="op">:</span>n <span class="op">=</span> <span class="fu">sum</span>(<span class="op">:</span>count))</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>        <span class="pp">@rtransform</span>(<span class="op">:</span>share <span class="op">=</span> <span class="op">:</span>count <span class="op">/</span> <span class="op">:</span>n)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">unstack</span>([<span class="op">:</span>group, <span class="op">:</span>n], <span class="op">:</span>outcome, <span class="op">:</span>share)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="pp">@rtransform</span>(<span class="op">:</span>group <span class="op">=</span> <span class="fu">label</span>(<span class="op">:</span>group))</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sort!</span>(<span class="op">:</span>n; rev<span class="op">=</span><span class="cn">true</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> <span class="fu">flatten_and_summarize</span>(decisions, judges);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-execution_count="17">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_outcome_judge</span>(df)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="op">=</span> [<span class="st">"claim dismissed"</span> <span class="op">=&gt;</span> <span class="st">"dismissed"</span>, </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">"partially annulled"</span> <span class="op">=&gt;</span> <span class="st">"partial"</span>, </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>                <span class="st">"annulled"</span> <span class="op">=&gt;</span> <span class="st">"annulled"</span>]</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    dftop <span class="op">=</span> <span class="fu">first</span>(<span class="fu">rename</span>(df, outcomes), <span class="fl">15</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    dflong <span class="op">=</span> DataFrames.<span class="fu">stack</span>(dftop, <span class="fu">last</span>.(outcomes))</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    dflong.counts <span class="op">=</span> dflong.value <span class="op">.*</span> dflong.n</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    judgeorder <span class="op">=</span> <span class="fu">sort!</span>(dftop, <span class="op">:</span>dismissed).group</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    plt <span class="op">=</span> <span class="fu">data</span>(dflong) <span class="op">*</span> <span class="fu">mapping</span>(</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span>group <span class="op">=&gt;</span> <span class="fu">sorter</span>(judgeorder) <span class="op">=&gt;</span> <span class="st">""</span>, <span class="op">:</span>counts <span class="op">=&gt;</span> <span class="st">""</span>; </span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">=:</span>variable, </span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=:</span>variable <span class="op">=&gt;</span> <span class="st">""</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>          ) <span class="op">*</span> <span class="fu">visual</span>(BarPlot)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">draw</span>(plt; legend<span class="op">=</span>(;position<span class="op">=:</span>bottom), axis<span class="op">=</span>(;xticklabelrotation<span class="op">=</span><span class="fl">1</span>))</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_outcome_judge</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="187">
<p><img src="questions_files/figure-html/cell-18-output-1.svg" class="img-fluid"></p>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-execution_count="18">
<div class="cell-output cell-output-display" data-execution_count="188">

<div><div style="float: left;"><span>200Ã—5 DataFrame</span></div><div style="float: right;"><span style="font-style: italic;">175 rows omitted</span></div><div style="clear: both;"></div></div><div class="data-frame" style="overflow-x: scroll;"><table class="data-frame table table-sm table-striped" style="margin-bottom: 6px;"><thead><tr class="header"><th class="rowNumber" style="font-weight: bold; text-align: right;">Row</th><th style="text-align: left;">group</th><th style="text-align: left;">n</th><th style="text-align: left;">partially annulled</th><th style="text-align: left;">claim dismissed</th><th style="text-align: left;">annulled</th></tr><tr class="subheader headerLastRow"><th class="rowNumber" style="font-weight: bold; text-align: right;"></th><th title="String" style="text-align: left;">String</th><th title="Int64" style="text-align: left;">Int64</th><th title="Union{Missing, Float64}" style="text-align: left;">Float64?</th><th title="Union{Missing, Float64}" style="text-align: left;">Float64?</th><th title="Union{Missing, Float64}" style="text-align: left;">Float64?</th></tr></thead><tbody><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">1</td><td style="text-align: left;">Voit</td><td style="text-align: right;">171</td><td style="text-align: right;">0.561404</td><td style="text-align: right;">0.315789</td><td style="text-align: right;">0.122807</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">2</td><td style="text-align: left;">Gutermuth</td><td style="text-align: right;">162</td><td style="text-align: right;">0.512346</td><td style="text-align: right;">0.290123</td><td style="text-align: right;">0.197531</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">3</td><td style="text-align: left;">Schuster</td><td style="text-align: right;">145</td><td style="text-align: right;">0.503448</td><td style="text-align: right;">0.317241</td><td style="text-align: right;">0.17931</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">4</td><td style="text-align: left;">Sredl</td><td style="text-align: right;">144</td><td style="text-align: right;">0.597222</td><td style="text-align: right;">0.173611</td><td style="text-align: right;">0.229167</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">5</td><td style="text-align: left;">Engels</td><td style="text-align: right;">123</td><td style="text-align: right;">0.682927</td><td style="text-align: right;">0.211382</td><td style="text-align: right;">0.105691</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">6</td><td style="text-align: left;">Schramm</td><td style="text-align: right;">109</td><td style="text-align: right;">0.678899</td><td style="text-align: right;">0.201835</td><td style="text-align: right;">0.119266</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">7</td><td style="text-align: left;">MÃ¼ller</td><td style="text-align: right;">107</td><td style="text-align: right;">0.626168</td><td style="text-align: right;">0.242991</td><td style="text-align: right;">0.130841</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">8</td><td style="text-align: left;">Rauch</td><td style="text-align: right;">105</td><td style="text-align: right;">0.533333</td><td style="text-align: right;">0.333333</td><td style="text-align: right;">0.133333</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">9</td><td style="text-align: left;">Martens</td><td style="text-align: right;">101</td><td style="text-align: right;">0.524752</td><td style="text-align: right;">0.247525</td><td style="text-align: right;">0.227723</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">10</td><td style="text-align: left;">Brandt</td><td style="text-align: right;">100</td><td style="text-align: right;">0.64</td><td style="text-align: right;">0.17</td><td style="text-align: right;">0.19</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">11</td><td style="text-align: left;">Friehe</td><td style="text-align: right;">93</td><td style="text-align: right;">0.505376</td><td style="text-align: right;">0.225806</td><td style="text-align: right;">0.268817</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">12</td><td style="text-align: left;">Huber</td><td style="text-align: right;">86</td><td style="text-align: right;">0.430233</td><td style="text-align: right;">0.418605</td><td style="text-align: right;">0.151163</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">13</td><td style="text-align: left;">Guth</td><td style="text-align: right;">80</td><td style="text-align: right;">0.6625</td><td style="text-align: right;">0.1625</td><td style="text-align: right;">0.175</td></tr><tr><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">189</td><td style="text-align: left;">Pagenberg</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">190</td><td style="text-align: left;">Kraft</td><td style="text-align: right;">1</td><td style="text-align: right;">missing</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">191</td><td style="text-align: left;">Sekretaruk</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">192</td><td style="text-align: left;">Fink</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">193</td><td style="text-align: left;">Albrecht</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">194</td><td style="text-align: left;">Staudenmaier</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">195</td><td style="text-align: left;">S_Schmidt</td><td style="text-align: right;">1</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">196</td><td style="text-align: left;">Kruppa</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">197</td><td style="text-align: left;">Seyfarth</td><td style="text-align: right;">1</td><td style="text-align: right;">missing</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">198</td><td style="text-align: left;">Peters</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">199</td><td style="text-align: left;">Philipps</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">200</td><td style="text-align: left;">Maierbacher</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr></tbody></table></div>
</div>
</div>
</div>
</div>
</div>
<p>Looking at some of the most active judges, there are relatively large differences in dissmissal rates; Consider as extreme cases e.g.&nbsp;Guth, with only 16% dismissals out of 80 cases vs.&nbsp;Huber, with about 42% dismissals out of 86 cases.</p>
</section>
<section id="is-there-variation-betweeen-technologies" class="level3">
<h3 class="anchored" data-anchor-id="is-there-variation-betweeen-technologies">Is there variation betweeen technologies?</h3>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> <span class="fu">flatten_and_summarize</span>(decisions, class <span class="op">âˆ˜</span> patent);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true" href="">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false" href="">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell" data-execution_count="20">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_outcome_judge</span>(df)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="op">=</span> [<span class="st">"claim dismissed"</span> <span class="op">=&gt;</span> <span class="st">"dismissed"</span>, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">"partially annulled"</span> <span class="op">=&gt;</span> <span class="st">"partial"</span>, </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                <span class="st">"annulled"</span> <span class="op">=&gt;</span> <span class="st">"annulled"</span>]</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    dftop <span class="op">=</span> <span class="fu">first</span>(<span class="fu">rename</span>(<span class="pp">@rsubset</span>(df, <span class="op">:</span>group <span class="op">!=</span> <span class="st">"Y10"</span>), outcomes), <span class="fl">15</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    dflong <span class="op">=</span> DataFrames.<span class="fu">stack</span>(dftop, <span class="fu">last</span>.(outcomes))</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    dflong.counts <span class="op">=</span> dflong.value <span class="op">.*</span> dflong.n</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    order <span class="op">=</span> <span class="fu">sort!</span>(dftop, <span class="op">:</span>dismissed).group</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    plt <span class="op">=</span> <span class="fu">data</span>(dflong) <span class="op">*</span> <span class="fu">mapping</span>(</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span>group <span class="op">=&gt;</span> <span class="fu">sorter</span>(order) <span class="op">=&gt;</span> <span class="st">""</span>, <span class="op">:</span>counts <span class="op">=&gt;</span> <span class="st">""</span>; </span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">=:</span>variable, </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=:</span>variable <span class="op">=&gt;</span> <span class="st">""</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>          ) <span class="op">*</span> <span class="fu">visual</span>(BarPlot)</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">draw</span>(plt; legend<span class="op">=</span>(;position<span class="op">=:</span>bottom), axis<span class="op">=</span>(;xticklabelrotation<span class="op">=</span><span class="fl">1</span>))</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_outcome_judge</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="190">
<p><img src="questions_files/figure-html/cell-21-output-1.svg" class="img-fluid"></p>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell" data-execution_count="21">
<div class="cell-output cell-output-display" data-execution_count="191">

<div><div style="float: left;"><span>116Ã—5 DataFrame</span></div><div style="float: right;"><span style="font-style: italic;">91 rows omitted</span></div><div style="clear: both;"></div></div><div class="data-frame" style="overflow-x: scroll;"><table class="data-frame table table-sm table-striped" style="margin-bottom: 6px;"><thead><tr class="header"><th class="rowNumber" style="font-weight: bold; text-align: right;">Row</th><th style="text-align: left;">group</th><th style="text-align: left;">n</th><th style="text-align: left;">partially annulled</th><th style="text-align: left;">claim dismissed</th><th style="text-align: left;">annulled</th></tr><tr class="subheader headerLastRow"><th class="rowNumber" style="font-weight: bold; text-align: right;"></th><th title="String" style="text-align: left;">String</th><th title="Int64" style="text-align: left;">Int64</th><th title="Union{Missing, Float64}" style="text-align: left;">Float64?</th><th title="Union{Missing, Float64}" style="text-align: left;">Float64?</th><th title="Union{Missing, Float64}" style="text-align: left;">Float64?</th></tr></thead><tbody><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">1</td><td style="text-align: left;">Y10</td><td style="text-align: right;">183</td><td style="text-align: right;">0.535519</td><td style="text-align: right;">0.240437</td><td style="text-align: right;">0.224044</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">2</td><td style="text-align: left;">A61</td><td style="text-align: right;">132</td><td style="text-align: right;">0.719697</td><td style="text-align: right;">0.159091</td><td style="text-align: right;">0.121212</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">3</td><td style="text-align: left;">H04</td><td style="text-align: right;">116</td><td style="text-align: right;">0.568966</td><td style="text-align: right;">0.112069</td><td style="text-align: right;">0.318966</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">4</td><td style="text-align: left;">G01</td><td style="text-align: right;">82</td><td style="text-align: right;">0.658537</td><td style="text-align: right;">0.182927</td><td style="text-align: right;">0.158537</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">5</td><td style="text-align: left;">H01</td><td style="text-align: right;">73</td><td style="text-align: right;">0.520548</td><td style="text-align: right;">0.328767</td><td style="text-align: right;">0.150685</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">6</td><td style="text-align: left;">B65</td><td style="text-align: right;">69</td><td style="text-align: right;">0.565217</td><td style="text-align: right;">0.202899</td><td style="text-align: right;">0.231884</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">7</td><td style="text-align: left;">B60</td><td style="text-align: right;">66</td><td style="text-align: right;">0.575758</td><td style="text-align: right;">0.212121</td><td style="text-align: right;">0.212121</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">8</td><td style="text-align: left;">B29</td><td style="text-align: right;">62</td><td style="text-align: right;">0.435484</td><td style="text-align: right;">0.370968</td><td style="text-align: right;">0.193548</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">9</td><td style="text-align: left;">F16</td><td style="text-align: right;">61</td><td style="text-align: right;">0.508197</td><td style="text-align: right;">0.245902</td><td style="text-align: right;">0.245902</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">10</td><td style="text-align: left;">Y02</td><td style="text-align: right;">59</td><td style="text-align: right;">0.542373</td><td style="text-align: right;">0.186441</td><td style="text-align: right;">0.271186</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">11</td><td style="text-align: left;">G06</td><td style="text-align: right;">56</td><td style="text-align: right;">0.75</td><td style="text-align: right;">0.0714286</td><td style="text-align: right;">0.178571</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">12</td><td style="text-align: left;">B01</td><td style="text-align: right;">46</td><td style="text-align: right;">0.543478</td><td style="text-align: right;">0.195652</td><td style="text-align: right;">0.26087</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">13</td><td style="text-align: left;">E04</td><td style="text-align: right;">42</td><td style="text-align: right;">0.547619</td><td style="text-align: right;">0.309524</td><td style="text-align: right;">0.142857</td></tr><tr><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">105</td><td style="text-align: left;">D05</td><td style="text-align: right;">1</td><td style="text-align: right;">missing</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">106</td><td style="text-align: left;">C10</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">107</td><td style="text-align: left;">B43</td><td style="text-align: right;">1</td><td style="text-align: right;">missing</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">108</td><td style="text-align: left;">F27</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">109</td><td style="text-align: left;">C11</td><td style="text-align: right;">1</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">110</td><td style="text-align: left;">A46</td><td style="text-align: right;">1</td><td style="text-align: right;">missing</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">111</td><td style="text-align: left;">A44</td><td style="text-align: right;">1</td><td style="text-align: right;">missing</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">112</td><td style="text-align: left;">B04</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">113</td><td style="text-align: left;">C40</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">114</td><td style="text-align: left;">B81</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">115</td><td style="text-align: left;">F26</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">116</td><td style="text-align: left;">A42</td><td style="text-align: right;">1</td><td style="text-align: right;">1.0</td><td style="text-align: right;">missing</td><td style="text-align: right;">missing</td></tr></tbody></table></div>
</div>
</div>
</div>
</div>
</div>
<p>There is some evidence for variation in outcome across different technologies; compare, e.g., G06 (computing, calculating, counting), with a 7% dismissal rate, and B29 (working of plastics), with a 37% dismissal rate.</p>
</section>
<section id="is-there-variation-across-panel-compositions" class="level3">
<h3 class="anchored" data-anchor-id="is-there-variation-across-panel-compositions">Is there variation across panel compositions?</h3>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> <span class="fu">sort!</span>(<span class="fu">map</span>(summarize_outcome, <span class="fu">group</span>(decisions) <span class="cf">do</span> ds</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    js <span class="op">=</span> <span class="fu">label</span>.(<span class="fu">first</span>(<span class="fu">judges</span>(ds), <span class="fl">3</span>))</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    js <span class="op">=</span> <span class="fu">join</span>(<span class="fu">Set</span>(js), <span class="st">", "</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span>); rev<span class="op">=</span><span class="cn">true</span>) <span class="op">|&gt;</span> DataFrame;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true" href="">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false" href="">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell" data-execution_count="23">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_outcome_composition</span>(df)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="op">=</span> [<span class="op">:</span>dismissed, <span class="op">:</span>partial, <span class="op">:</span>annulled]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    dflong <span class="op">=</span> <span class="fu">first</span>(df, <span class="fl">15</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    dflong <span class="op">=</span> DataFrames.<span class="fu">stack</span>(dflong, outcomes)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    dflong.value <span class="op">=</span> dflong.value <span class="op">.*</span> dflong.n</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    plt <span class="op">=</span> <span class="fu">data</span>(dflong) <span class="op">*</span> <span class="fu">mapping</span>(</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span>keys <span class="op">=&gt;</span> <span class="st">""</span>, <span class="op">:</span>value <span class="op">=&gt;</span> <span class="st">""</span>; </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">=:</span>variable, </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=:</span>variable <span class="op">=&gt;</span> <span class="st">""</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>          ) <span class="op">*</span> <span class="fu">visual</span>(BarPlot)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">draw</span>(plt; </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>         legend<span class="op">=</span>(;position<span class="op">=:</span>bottom), </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>         axis<span class="op">=</span>(;xticklabelrotation<span class="op">=</span><span class="fl">1.4</span>),</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>         figure<span class="op">=</span>(;resolution<span class="op">=</span>(<span class="fl">700</span>, <span class="fl">700</span>)))</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_outcome_composition</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="193">
<p><img src="questions_files/figure-html/cell-24-output-1.svg" class="img-fluid"></p>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell" data-execution_count="24">
<div class="cell-output cell-output-display" data-execution_count="194">

<div><div style="float: left;"><span>523Ã—5 DataFrame</span></div><div style="float: right;"><span style="font-style: italic;">498 rows omitted</span></div><div style="clear: both;"></div></div><div class="data-frame" style="overflow-x: scroll;"><table class="data-frame table table-sm table-striped" style="margin-bottom: 6px;"><thead><tr class="header"><th class="rowNumber" style="font-weight: bold; text-align: right;">Row</th><th style="text-align: left;">keys</th><th style="text-align: left;">n</th><th style="text-align: left;">dismissed</th><th style="text-align: left;">partial</th><th style="text-align: left;">annulled</th></tr><tr class="subheader headerLastRow"><th class="rowNumber" style="font-weight: bold; text-align: right;"></th><th title="String" style="text-align: left;">String</th><th title="Int64" style="text-align: left;">Int64</th><th title="Float64" style="text-align: left;">Float64</th><th title="Float64" style="text-align: left;">Float64</th><th title="Float64" style="text-align: left;">Float64</th></tr></thead><tbody><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">1</td><td style="text-align: left;">Frowein, Landfermann, Barton</td><td style="text-align: right;">29</td><td style="text-align: right;">0.37931</td><td style="text-align: right;">0.448276</td><td style="text-align: right;">0.172414</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">2</td><td style="text-align: left;">Voit, Martens, Albertshofer</td><td style="text-align: right;">18</td><td style="text-align: right;">0.277778</td><td style="text-align: right;">0.5</td><td style="text-align: right;">0.222222</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">3</td><td style="text-align: left;">Gutermuth, Meinhardt, Henkel</td><td style="text-align: right;">16</td><td style="text-align: right;">0.375</td><td style="text-align: right;">0.5625</td><td style="text-align: right;">0.0625</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">4</td><td style="text-align: left;">Merzbach, Fritze, Sredl</td><td style="text-align: right;">16</td><td style="text-align: right;">0.3125</td><td style="text-align: right;">0.4375</td><td style="text-align: right;">0.25</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">5</td><td style="text-align: left;">Guth, Schramm, Proksch-Ledig</td><td style="text-align: right;">15</td><td style="text-align: right;">0.266667</td><td style="text-align: right;">0.666667</td><td style="text-align: right;">0.0666667</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">6</td><td style="text-align: left;">PÃ¶sentrup, Hellebrand, KÃ¶hn</td><td style="text-align: right;">15</td><td style="text-align: right;">0.133333</td><td style="text-align: right;">0.533333</td><td style="text-align: right;">0.333333</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">7</td><td style="text-align: left;">Schermer, Engels, Proksch-Ledig</td><td style="text-align: right;">14</td><td style="text-align: right;">0.285714</td><td style="text-align: right;">0.5</td><td style="text-align: right;">0.214286</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">8</td><td style="text-align: left;">Egerer, Guth, Schramm</td><td style="text-align: right;">12</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.666667</td><td style="text-align: right;">0.333333</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">9</td><td style="text-align: left;">Schwendy, Kalkoff, Obermayer</td><td style="text-align: right;">11</td><td style="text-align: right;">0.363636</td><td style="text-align: right;">0.636364</td><td style="text-align: right;">0.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">10</td><td style="text-align: left;">Schwendy, Klosterhuber, HaaÃŸ</td><td style="text-align: right;">11</td><td style="text-align: right;">0.272727</td><td style="text-align: right;">0.636364</td><td style="text-align: right;">0.0909091</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">11</td><td style="text-align: left;">Merzbach, Sredl, Lokys</td><td style="text-align: right;">11</td><td style="text-align: right;">0.272727</td><td style="text-align: right;">0.545455</td><td style="text-align: right;">0.181818</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">12</td><td style="text-align: left;">Voit, Winkler, Huber</td><td style="text-align: right;">10</td><td style="text-align: right;">0.8</td><td style="text-align: right;">0.2</td><td style="text-align: right;">0.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">13</td><td style="text-align: left;">Brandt, Hellebrand, Wagner</td><td style="text-align: right;">10</td><td style="text-align: right;">0.3</td><td style="text-align: right;">0.5</td><td style="text-align: right;">0.2</td></tr><tr><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td><td style="text-align: right;">â‹®</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">512</td><td style="text-align: left;">Bork, Schwarz, Kopacek</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">513</td><td style="text-align: left;">Klante, Musiol, Schwarz</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">514</td><td style="text-align: left;">Voit, Martens, MÃ¼ller</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">515</td><td style="text-align: left;">Scholz, Martens, Bayer</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">516</td><td style="text-align: left;">Merzbach, Gottstein, Martens</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">517</td><td style="text-align: left;">Geier, Baumgart, SandkÃ¤mper</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">518</td><td style="text-align: left;">Forkel, Hartlieb, Thum-Rung</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">519</td><td style="text-align: left;">Fritze, Wiegele, Hermann</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">520</td><td style="text-align: left;">Hartlieb, Friedrich, Grote-Bittner</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">521</td><td style="text-align: left;">Zimmerer, Werner, Friehe</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">522</td><td style="text-align: left;">Rauch, Thum-Rung, Schnurr</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr><tr><td class="rowNumber" style="font-weight: bold; text-align: right;">523</td><td style="text-align: left;">Rauch, Fritze, Schnurr</td><td style="text-align: right;">1</td><td style="text-align: right;">0.0</td><td style="text-align: right;">0.0</td><td style="text-align: right;">1.0</td></tr></tbody></table></div>
</div>
</div>
</div>
</div>
</div>
<p>In general, this is hard to answer with the data at hand because we donâ€™t observe individual decisions but only the collective outcome; The best we can do is look at distinct combinations of judges. When picking only the first three judges for each case and looking for all cases handled by this trio, some differences in decision outcomes become visible. However, case numbers are generally too low for conclusive results.</p>
</section>
<section id="does-a-judges-decision-making-change-over-time" class="level3">
<h3 class="anchored" data-anchor-id="does-a-judges-decision-making-change-over-time">Does a judgeâ€™s decision making change over time?</h3>
<div class="cell" data-execution_count="25">
<details>
<summary>Plots</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Dates</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_judges</span>(decisions, js)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> <span class="fu">Figure</span>(resolution<span class="op">=</span>(<span class="fl">700</span>, <span class="fl">1000</span>))</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    lay <span class="op">=</span> <span class="fu">CartesianIndices</span>((<span class="fl">5</span>,<span class="fl">2</span>))</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i, j) <span class="kw">in</span> <span class="fu">enumerate</span>(js)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        ds <span class="op">=</span> <span class="fu">filter</span>(decisions) <span class="cf">do</span> d</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>            <span class="fu">label</span>(<span class="fu">first</span>(<span class="fu">judges</span>(d))) <span class="op">==</span> j</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> [<span class="bu">Dates</span>.<span class="fu">days</span>(<span class="fu">date</span>(d) <span class="op">-</span> <span class="fu">minimum</span>(date, ds)) for d <span class="kw">in</span> ds] <span class="op">./</span> <span class="fl">365</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        y <span class="op">=</span> (id <span class="op">âˆ˜</span> outcome).(ds)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">#post = posterior_optimize(x, y)</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>        make_f <span class="op">=</span> <span class="fu">build_latent_gp</span>([<span class="fl">1.0</span>, <span class="fl">4.0</span>])</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>        post <span class="op">=</span> <span class="fu">posterior</span>(<span class="fu">LaplaceApproximation</span>(), <span class="fu">make_f</span>(x), y)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>        ax <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fu">Tuple</span>(lay[i])<span class="op">...</span>]; title <span class="op">=</span> j)</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">plot_posterior!</span>(ax, x, y, <span class="fu">range</span>(<span class="fl">0</span>, <span class="fu">maximum</span>(x), <span class="fl">100</span>), post)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    fig</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>js <span class="op">=</span> [</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Voit"</span>, <span class="st">"Schuster"</span>, </span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Gutermuth"</span>, <span class="st">"Schramm"</span>, </span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Engels"</span>, <span class="st">"Sredl"</span>,</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Meinhardt"</span>, <span class="st">"Hellebrand"</span>, </span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Schwendy"</span>, <span class="st">"Rauch"</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>     ]</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_judges</span>(decisions, js)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="195">
<p><img src="questions_files/figure-html/cell-26-output-1.svg" class="img-fluid"></p>
</div>
</div>
<p>While for some judges there seems to be a tendency towards an increased nullification rate over their activity period (e.g, Gutermuth, Engels, Meinhardt), this is not a general trend and statistically quite uncertain.</p>
</section>
<section id="is-there-still-variation-between-judges-when-controlling-for-the-other-factors" class="level3">
<h3 class="anchored" data-anchor-id="is-there-still-variation-between-judges-when-controlling-for-the-other-factors">Is there still variation between judges when controlling for the other factors?</h3>
<div class="cell" data-execution_count="26">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Arrow</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> <span class="fu">MixedMembershipModel</span>(decisions)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>post_stored <span class="op">=</span> <span class="st">"../data/derivative/inference/posterior_mixed_membership.arrow"</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>samples <span class="op">=</span> <span class="cf">if</span> <span class="fu">isfile</span>(post_stored)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    Arrow.<span class="fu">Table</span>(post_stored) <span class="op">|&gt;</span> DataFrame</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    post <span class="op">=</span> Model.<span class="fu">sample</span>(model, <span class="fl">1000</span>, <span class="fl">4</span>)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    ess, rhat, treestats <span class="op">=</span> Model.<span class="fu">checkconvergence</span>(post)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(ess); <span class="fu">println</span>(rhat); <span class="fu">println</span>(treestats)</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    Model.<span class="fu">_post</span>(post)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">plot_mixed_membership_model</span>(model, samples, decisions)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    empirical_mean <span class="op">=</span> <span class="fu">mean</span>(id <span class="op">âˆ˜</span> outcome, decisions)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> <span class="fu">Figure</span>(resolution<span class="op">=</span>(<span class="fl">700</span>, <span class="fl">1000</span>))</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    ax_pred <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">1</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]; title<span class="op">=</span><span class="st">"Probability of (partial) annullment by case"</span>)</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    ax_time <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">2</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]; title<span class="op">=</span><span class="st">"Year effects"</span>)</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    ax_tech <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">3</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]; title<span class="op">=</span><span class="st">"Technology effects"</span>)</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>    ax_juds <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">4</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]; title<span class="op">=</span><span class="st">"Judge effects"</span>)</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>    Model.<span class="fu">errorplot!</span>(ax_pred, <span class="fu">Prediction</span>(), model, samples; sort<span class="op">=</span><span class="cn">true</span>); <span class="fu">hlines!</span>(ax_pred, empirical_mean; color <span class="op">=</span> <span class="op">:</span>red)</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>    Model.<span class="fu">errorplot!</span>(ax_time, <span class="fu">Effect</span>(), samples.zt <span class="op">.*</span> samples.Ïƒt; sigma<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>    Model.<span class="fu">errorplot!</span>(ax_tech, <span class="fu">Effect</span>(), samples.zc <span class="op">.*</span> samples.Ïƒc; sigma<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>    Model.<span class="fu">errorplot!</span>(ax_juds, <span class="fu">Effect</span>(), samples.zj <span class="op">.*</span> samples.Ïƒj; sigma<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>    axt <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">5</span>,<span class="fl">1</span>]; title<span class="op">=</span><span class="st">"Year effect s.d."</span>)</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>    axc <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">5</span>,<span class="fl">2</span>]; title<span class="op">=</span><span class="st">"Technology effect s.d."</span>)</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    axj <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">5</span>,<span class="fl">3</span>]; title<span class="op">=</span><span class="st">"Judge effect s.d."</span>)</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">density!</span>(axt, samples.Ïƒt; color<span class="op">=:</span>grey80)</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">density!</span>(axc, samples.Ïƒc; color<span class="op">=:</span>grey80)</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">density!</span>(axj, samples.Ïƒj; color<span class="op">=:</span>grey80)</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>    fig</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mixed_membership_model</span>(model, samples, decisions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="196">
<p><img src="questions_files/figure-html/cell-27-output-1.svg" class="img-fluid"></p>
</div>
</div>
<p>In a mixed membership model controlling for time and patent technology, judge effects persist. Using the standard deviation of the varying judge effects as a test quantity, we would reject null hypothesis in line with the legalist model of decision making.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>